{% extends 'base.html' %}
{% block content %}
{% load static %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-10 col-lg-8">
            <div class="card shadow-lg border-0 overflow-hidden form-card">
                <div class="row g-0">
                    <!-- Left image column (hidden on xs, visible from md) -->
                    <div class="col-md-5 d-none d-md-block " style="background-image: url({% static "index/assets/images/profile.jpg" %}); background-size: cover; background-position: center; ">
                    </div>
                    <!-- Form column -->
                    <div class="col-12 col-md-7 form-col">
                        <div class="card-body p-4 p-md-5 text-white">
                            <h2 class="fw-bold mb-3 text-center">Create an account</h2>
                            <p class="text-muted text-center mb-4">Join us â€” simple signup to start shopping.</p>

                            <form action="{% url 'register' %}" method="post" novalidate>
                                {% csrf_token %}
                                <div class="row g-3">
                                    <div class="col-12 col-md-6">
                                        <label for="fname" class="form-label">First name</label>
                                        <input id="fname" name="fname" type="text" class="form-control" placeholder="John" required>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <label for="lname" class="form-label">Last name</label>
                                        <input id="lname" name="lname" type="text" class="form-control" placeholder="Doe" required>
                                    </div>
                                    <div class="col-12">
                                        <label for="uname" class="form-label">Username</label>
                                        <input id="uname" name="uname" type="text" class="form-control" placeholder="yourusername" required>
                                        {% if v_uname == False %}<div class="form-text text-danger">Username already taken</div>{% endif %}
                                    </div>
                                    <div class="col-12">
                                        <label for="email" class="form-label">Email address</label>
                                        <input id="email" name="email" type="email" class="form-control" placeholder="you@example.com" required>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <label for="password1" class="form-label">Password</label>
                                        <input id="password1" name="password1" type="password" class="form-control" placeholder="Create a password" required>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <label for="password2" class="form-label">Confirm password</label>
                                        <input id="password2" name="password2" type="password" class="form-control" placeholder="Repeat password" required>
                                        {% if pass == False %}<div class="form-text text-danger">Passwords do not match</div>{% endif %}
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-dark w-100 py-2">Register</button>
                                    </div>
                                    <div class="col-12 text-center">
                                        <small class="text-muted">Already have an account? <a href="{% url 'login' %}">Sign in</a></small>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Gray/black theme for registration page */
    .form-card { background: linear-gradient(180deg,#0b0f13 0%, #0f1316 100%); }
    .form-col { background: linear-gradient(180deg,#0f1113 0%, #141619 100%); }
    .form-card .card-body { color: #fff; }

    .card .form-label { font-weight: 600; color: #e6eef3; }
    .form-control {
        background-color: #121316 !important;
        border: 1px solid rgba(255,255,255,0.06) !important;
        color: #ffffff !important;
    }
    .form-control:focus {
        box-shadow: 0 0 0 0.15rem rgba(255,255,255,0.03) !important;
        border-color: rgba(255,255,255,0.12) !important;
    }
    .form-control::placeholder { color: #c7cdd1 !important; opacity: 1; }

    .text-muted { color: #9aa4ab !important; }
    a { color: #8fbfff !important; }

    .btn-dark, .btn-dark:focus, .btn-dark:hover {
        background-color: #0b1216 !important;
        border-color: rgba(255,255,255,0.06) !important;
        color: #fff !important;
    }

    /* Left image overlay to darken image for contrast */
    .col-md-5.bg-light {
        position: relative;
    }
    .col-md-5.bg-light::after {
        content: '';
        position: absolute;
        inset: 0;
        background-image: rgba(67, 133, 199, 0.45);
      }

    @media (max-width: 767.98px) {
        .card { border-radius: 0.75rem; }
    }
</style>

{% endblock %}