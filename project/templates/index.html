<style>
    .dropdown {
  display: inline-block;
  position: relative;
}
    .dropdown-options {
  display: none;
  position: absolute;
  overflow: auto;
}

.dropdown:hover .dropdown-options {
  display: block;
}
</style>
{% extends 'base.html' %}
{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="page-content"style="margin-top: 20px">

          <!-- ***** Banner Start ***** -->
          <div class="main-banner">
            <div class="row">
              <div class="col-lg-7 col-12">
                <div class="header-text">
                  <h6>Welcome To </h6>
                  <h4><em>Trusted </em> shoping Dreams</h4>
                  
                </div>
              </div>
            </div>
              <div class="dropdown">
  <button class="btn btn-light dropdown-toggle" style="width:150;margin:auto">Filter</button>
  <div class="dropdown-options " >
    
    <div class="bg-dark" style='width:150px;border-radius:10px;'>
      <a class="items truncatechars-20 text-light m-2"  href='/'><li style='margin-left:10px'>&nbsp;&nbsp;All</li></a>
      {% for i in cat %}
      
          {% if user != None %}
              <a class="items truncatechars-20 text-light m-2"  href={{ i.get_url }}><li style='margin-left:10px'>&nbsp;&nbsp;{{ i.name }}</li></a>
          {% else %}
              <a class="items truncatechars-20 text-light m-2 " href={{ i.get_url }}><li style='margin-left:10px'>&nbsp;&nbsp;{{ i.name }}</li ></a>
          {% endif %}


    {% endfor %}
  </div>

      

  </div>
</div>

          </div>

          <!-- ***** Banner End ***** -->

         
          
         
        </div>
      </div>
    </div>
    <div class=" mt-4 row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
      {% for i in pg %}
        <div class="col">
          <a href="{{ i.get_url }}" class="text-decoration-none">
            <div class="card h-100 shadow-sm product-card">
              <img src="{{ i.img.url }}" class="card-img-top img-fluid product-img" alt="{{ i.name }}">
              <div class="card-body bg-dark text-white rounded-bottom product-body">
                <h5 class="card-title">{{ i.name|truncatechars:25 }}</h5>
                <p class="card-text">{{ i.desc|truncatechars:25 }}</p>
                <p class="card-text fw-bold">â‚¹{{ i.price }}</p>
                {% if i.stock <= 0 %}
                  <p class="card-text text-danger">No stock available!</p>
                {% else %}
                  <p class="card-text text-success">{{ i.stock }} left in stock</p>
                {% endif %}
              </div>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>

    <style>
      /* base product card styles */
      .product-card {
        overflow: hidden;
        border-radius: .5rem;
        transition: transform .22s ease, box-shadow .22s ease;
        display: block;
        background: transparent;
      }
      .product-card img.product-img {
        width: 100%;
        height: 220px; /* desktop default */
        object-fit: cover;
        border-radius: .5rem .5rem 0 0;
        transition: transform .3s ease;
        display: block;
      }
      .product-card .product-body {
        border-radius: 0 0 .5rem .5rem;
        padding: 1rem;
      }
      .product-card:hover {
        box-shadow: 0 8px 24px rgba(0,0,0,0.18);
        transform: translateY(-4px) scale(1.02);
      }
      .product-card img.product-img:hover {
        transform: scale(1.05);
      }

      /* Small screens: change to horizontal card (image left, content right) */
      @media (max-width: 576px) {
        .row.row-cols-1 > .col { /* ensure full-width columns on xs */
          flex: 0 0 100%;
          max-width: 100%;
        }

        .product-card {
          display: flex;
          flex-direction: row;
          align-items: stretch;
          gap: 0;
          min-height: 110px;
        }
        .product-card img.product-img {
          width: 38%;               /* image takes left side */
          height: auto;            /* allow aspect to adapt */
          object-fit: cover;
          border-radius: .5rem 0 0 .5rem; /* rounded left corners only */
        }
        .product-card .product-body {
          width: 62%;
          border-radius: 0 .5rem .5rem 0; /* rounded right corners */
          display: flex;
          flex-direction: column;
          justify-content: center;
          padding: .75rem;
        }
        .product-card .card-title { font-size: 0.95rem; margin-bottom: .25rem; }
        .product-card .card-text { font-size: 0.82rem; margin-bottom: .25rem; }
        .product-card .fw-bold { font-size: 0.95rem; }

        /* make hover transform subtler on touch devices */
        .product-card:hover { transform: none; box-shadow: 0 6px 18px rgba(0,0,0,0.12); }
      }

      /* tidy pagination buttons on small screens */
      @media (max-width: 400px) {
        .btn-sm { padding: .25rem .5rem; font-size: .78rem; }
      }
    </style>
    <center>
  {% for p in pg.paginator.page_range %}
  <a href="?page={{ p }}" class="btn btn-light btn-sm  {% if pg.number == p %}active{% endif %} m-1">{{ p }}</a>
  {% endfor %}</center>
  </div>
  
 {% endblock %}

